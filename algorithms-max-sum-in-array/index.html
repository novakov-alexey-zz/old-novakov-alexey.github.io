<!DOCTYPE html>
<html lang="en">
    <head>
      
        <meta http-equiv="X-UA-Compatible" content="IE=edge" >
        <meta http-equiv="content-type" content="text/html; charset=utf-8">   
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@alexey_novakov">
        <meta name="twitter:creator" content="@alexey_novakov">
        <meta name="twitter:url" content="https://novakov-alexey.github.io">
        <meta name="twitter:title" content="SE Notes - Alexey Novakov">
        <meta name="twitter:description" content="Software Engineering notes on Scala, JVM, Rust, Cloud and other goodies">
        <meta name="twitter:image" content="https://novakov-alexey.github.io/img/alexey_white2.jpg">
        <meta name="twitter:image:alt" content="Alexey Novakov photo for personal web-site">

        <!-- SEO -->
        
        <title> Algorithms: Largest Sum Contiguous Subarray | Software Engineering Notes </title>
        

        <!-- Enable responsiveness on mobile devices-->
        <meta name="viewport"  content="width=device-width, initial-scale=1.0, maximum-scale=1" >

        <!--  css -->
        <link rel="stylesheet"  href="https:&#x2F;&#x2F;novakov-alexey.github.io/ergo.css" >

        <!-- fonts -->
        <!-- preload  -->
        <link rel="preload" href="https://fonts.googleapis.com/css?family=Montserrat:200,300,300i,400,500,500i,600,700,800,900|Raleway" as="style">
        <link rel="preload"  href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous" as="style" >
        <!-- load -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:200,300,300i,400,500,500i,600,700,800,900|Raleway">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"  integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
      
    </head>

    <body>
      
        
<input type="checkbox" id="openSidebarMenu" class="openSidebarMenu">
<label class="menu cross menu--1" for="openSidebarMenu">
    <svg viewBox="0 0 75 75" xmlns="https://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="30" />
        <path class="line--1" d="M0 40h62c13 0 6 28-4 18L35 35" />
        <path class="line--2" d="M0 50h70" />
        <path class="line--3" d="M0 60h62c13 0 6-28-4-18L35 65" />
    </svg>
</label>

<div id="sidebarMenu">
    <div class="menu_wrapper">
        <ul class="sidebarMenuInner" >     
            <li>
                <a href="https:&#x2F;&#x2F;novakov-alexey.github.io" >Software Engineering Notes</a>
                <div class="menu_div" ></div>
            </li>                   
            <li><a href="https:&#x2F;&#x2F;novakov-alexey.github.io/cv/">CV</a></li>
            <li><a href="https:&#x2F;&#x2F;novakov-alexey.github.io/presentations">Presentations</a></li>
            <li><a href="https:&#x2F;&#x2F;novakov-alexey.github.io/categories">Categories</a></li>
            <li><a href="https:&#x2F;&#x2F;novakov-alexey.github.io/tags">Tags</a></li>
        </ul>
    </div>
</div>

      

      
<nav id="overlord" class="overlord" >
  
<figure class="mini_logo ">
    <a href="https:&#x2F;&#x2F;novakov-alexey.github.io" style="background-image: url(https:&#x2F;&#x2F;novakov-alexey.github.io/img/alexey_white2.jpg)"></a>
</figure>
<h5>
    <a href="https:&#x2F;&#x2F;novakov-alexey.github.io">Software Engineering Notes</a>
</h5>

</nav>

<section class="post_container">
  <article>
    
      <h1 class="article_title"><a href="https:&#x2F;&#x2F;novakov-alexey.github.io&#x2F;algorithms-max-sum-in-array&#x2F;" id="article_link">Algorithms: Largest Sum Contiguous Subarray</a></h1>
      
<ul class="frontmatter frontmatter_page" id="frontmatter">
    <li>
        <time class="article_time"  datetime="2020-08-13">August 13, 2020</time>
    </li>
    <span class="dotDivider"></span>
    <li> 479 words </li>
    <span class="dotDivider" ></span>
    <li> 3 min </li>
</ul>

      
      <div class="post-toc" id="post-toc">
          <h3 class="post-toc-title">Contents</h3>
          <div class="post-toc-content always-active">
              <nav id="TableOfContents">
                  <ul>
                      
                      <li>
                          <a href="https://novakov-alexey.github.io/algorithms-max-sum-in-array/#find-the-max-sum-in-the-given-array" class="toc-link">Find the max sum in the given array</a>
                          
                      </li>
                      
                      <li>
                          <a href="https://novakov-alexey.github.io/algorithms-max-sum-in-array/#task" class="toc-link">Task</a>
                          
                      </li>
                      
                      <li>
                          <a href="https://novakov-alexey.github.io/algorithms-max-sum-in-array/#solution" class="toc-link">Solution</a>
                          
                      </li>
                      
                      <li>
                          <a href="https://novakov-alexey.github.io/algorithms-max-sum-in-array/#summary" class="toc-link">Summary</a>
                          
                      </li>
                      
                  </ul>
              </nav>
          </div>
      </div>
            
      <p>Most of the algorithmic tasks are related to iterating over arrays of data. They often can be expressed as a function which takes some input and returns some single value or an array of values. For instance:</p>
<pre style="background-color:#282a36;">
<code><span style="font-style:italic;color:#8be9fd;">def </span><span style="color:#50fa7b;">maxSum</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a</span><span style="color:#f8f8f2;">: </span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#f8f8f2;">[</span><span style="font-style:italic;color:#8be9fd;">Int</span><span style="color:#f8f8f2;">]): </span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#f8f8f2;">[</span><span style="font-style:italic;color:#8be9fd;">Int</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">= ???
</span></code></pre>
<p>Let's solve next task using Scala's elegant and concise syntax.</p>
<h3 id="find-the-max-sum-in-the-given-array">Find the max sum in the given array</h3>
<p>It is one of the interesting task that I met first time at one of my past job 5 years ago. It was an internal meetup of developers learning new languages as well as training themselves in programming for fun.</p>
<p>Later I use this task in Scala pet-project, called <a href="https://github.com/novakov-alexey/devgym">DevGym</a>. Project idea was similar to well-known Codility web-site.</p>
<h3 id="task">Task</h3>
<p>There is one array as input and another array as output. See test examples below:</p>
<pre style="background-color:#282a36;">
<code><span style="color:#6272a4;">// Given
</span><span style="color:#6be5fd;">Array</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">11</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">100</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">8</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">) 

</span><span style="color:#6272a4;">// Then
       </span><span style="color:#6be5fd;">Array</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">)
</span></code></pre>
<p>2 - 1 + 3 - 3 + 10 = 11</p>
<p>Since <code>11</code> is the max sum we could find within the input array</p>
<pre style="background-color:#282a36;">
<code><span style="color:#6272a4;">//Given
</span><span style="color:#6be5fd;">Array</span><span style="color:#f8f8f2;">(-</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">)
</span><span style="color:#6272a4;">//Then
           </span><span style="color:#6be5fd;">Array</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">, -</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">)
</span></code></pre>
<p>4 - 1 + 2 + 1 = 6</p>
<p><code>6</code> is the max sum.</p>
<h3 id="solution">Solution</h3>
<p>In general, we can solve this problem in O(n) complexity. By using intermediate variables to 
accumulate current sum as well as max sum, we can find <code>left</code> and <code>right</code> indices, which can be used
to return a sub-array.</p>
<pre style="background-color:#282a36;">
<code><span style="font-style:italic;color:#8be9fd;">def </span><span style="color:#50fa7b;">maxSum</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a</span><span style="color:#f8f8f2;">: </span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#f8f8f2;">[</span><span style="font-style:italic;color:#8be9fd;">Int</span><span style="color:#f8f8f2;">]): </span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#f8f8f2;">[</span><span style="font-style:italic;color:#8be9fd;">Int</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">currentSum </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0
  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">maxSum </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0
  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">left</span><span style="color:#f8f8f2;">, right, maxLeft, maxRight </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0
  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">maxI </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0 </span><span style="color:#6272a4;">//used when all negatives in the array

  </span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">i </span><span style="color:#ff79c6;">&lt;-</span><span style="color:#f8f8f2;"> a</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">indices) </span><span style="color:#ffffff;">{</span><span style="color:#f8f8f2;">
    currentSum += a(i)

    </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(currentSum &gt; </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{    
      </span><span style="color:#6272a4;">// in case current sum is getting greater,
      // then we found next right index with the max sum so far
      </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(currentSum &gt; maxSum) </span><span style="color:#ffffff;">{</span><span style="color:#f8f8f2;">        
        maxSum </span><span style="color:#ff79c6;">=</span><span style="color:#f8f8f2;"> currentSum
        right </span><span style="color:#ff79c6;">=</span><span style="color:#f8f8f2;"> i
        maxRight </span><span style="color:#ff79c6;">=</span><span style="color:#f8f8f2;"> right
        maxLeft </span><span style="color:#ff79c6;">=</span><span style="color:#f8f8f2;"> left
      </span><span style="color:#ffffff;">}
    } </span><span style="color:#ff79c6;">else </span><span style="color:#ffffff;">{
      </span><span style="color:#6272a4;">// in case new sum is lower than or equal 0, 
      // then we need to move left and right index further  
      // and continue the search</span><span style="color:#f8f8f2;">
      left </span><span style="color:#ff79c6;">=</span><span style="color:#f8f8f2;"> i + </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">
      right </span><span style="color:#ff79c6;">=</span><span style="color:#f8f8f2;"> left
      currentSum </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0
      </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(a(i) &gt; a(maxI)) maxI </span><span style="color:#ff79c6;">=</span><span style="color:#f8f8f2;"> i
    </span><span style="color:#ffffff;">}
  }
  </span><span style="color:#6272a4;">// at this point we found left and right
  // indices to capture sub-array with max sum
  </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(maxLeft </span><span style="color:#ff79c6;">==</span><span style="color:#f8f8f2;"> a</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length) </span><span style="color:#6be5fd;">Array</span><span style="color:#f8f8f2;">(a(maxI))
  </span><span style="color:#ff79c6;">else</span><span style="color:#f8f8f2;"> a</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">slice(maxLeft, maxRight + </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}
</span></code></pre>
<p>Above algorithm can be even shorter, if we return only final sum, i.e. without tracking left and right indices.</p>
<h1 id="summary">Summary</h1>
<p>Scala is a nice language to solve different algorithmic tasks. Try your next project in Scala, you will be surprised how fun to write code in it. </p>
<p>See my other blog-posts for algorithms in Scala:</p>
<ol>
<li><a href="https://medium.com/se-notes-by-alexey-novakov/algorithms-in-scala-dijkstra-shortest-path-78c4291dd8ab">Dijkstra shortest path</a></li>
<li><a href="https://medium.com/se-notes-by-alexey-novakov/rolling-sum-in-scala-6bc9a5a82e75">Rolling Sum</a></li>
</ol>

      
  </article>
</section>

       

      <footer>
        
          
<figure class="mini_logo ">
    <a href="https:&#x2F;&#x2F;novakov-alexey.github.io" style="background-image: url(https:&#x2F;&#x2F;novakov-alexey.github.io/img/alexey_white2.jpg)"></a>
</figure>
<h5>
    <a href="https:&#x2F;&#x2F;novakov-alexey.github.io">Software Engineering Notes</a>
</h5>

          
<ul class="social_list foot_list" >
    
    
    <li class="button extra_small font_faint"><a href="https://github.com/novakov-alexey" target="_blank" >novakov-alexey</a><i class="fab fa-github" ></i></li>
    
    
    <li class="button extra_small font_faint"><a href="https://twitter.com/alexey_novakov" target="_blank">@alexey_novakov</a><i class="fab fa-twitter" ></i></li>
    
    
    
    
    <li class="button extra_small font_faint"><a href="https://www.linkedin.com/in/alexey-novakov-26468624" target="_blank">alexey-novakov-26468624</a><i class="fab fa-linkedin" ></i></li>
    
    
    
    
    <!-- 
    <li class="button extra_small font_faint"><a href="https:&#x2F;&#x2F;novakov-alexey.github.io/rss.xml" target ="_blank">rss</a><i class="fas fa-rss" ></i></li>
     -->
</ul>

        
      </footer>
    </body>
</html>
